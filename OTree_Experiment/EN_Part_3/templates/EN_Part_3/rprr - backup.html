{% extends "global/Page.html" %}
{% load otree %}

{% block title %}Répartition du temps{% endblock %}

{% block content %}
    <p>Imaginons maintenant que vous possédiez 14 heures, soit 600 minutes, pour jouer aux jeux vidéo cette semaine. Répartissez
        ces 600 minutes comme bon vous semble pour chacune des différentes listes ci-dessous.</p>

    <p>Vous avez attribué <span id="demo_total"></span> minutes de vos 600 minutes. Il vous reste <class id="demo_total_neg"></class> minutes à dépenser.</p>

<script>
function o(){
    liveSend({'type': 'Total_Reset', 'value_reset': 0});
}
window.onload = o;
</script>

    <b>Liste 1 :</b>
    <p>{{ WordsList_Souls_FR }}</p>
    {% block scripts %}
   <script> function myFunction() {
  var x = document.getElementById("translation_souls");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
} </script>
    {% endblock %}

<button type="button" class="btn btn-primary btn-large" onclick="myFunction()">Traduction</button>
    <div id="translation_souls" style="display:none">
    <br>
        <p>{{ WordsList_Souls }}</p>
</div>
        <p>Vous attribuez <span id="demo_souls"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_souls"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_souls" name="myRange" min="0" max = "600" step="50"  value="0" class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>



<br>
    <b>Liste 2:</b>
    <p>{{ WordsList_Shooter_FR }}</p>


   <script>

       function myFunction2() {
  var x_shooter = document.getElementById("translation_shooter");
  if (x_shooter.style.display === "none") {
    x_shooter.style.display = "block";
  } else {
    x_shooter.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction2()">Traduction</button>
    <div id="translation_shooter" style="display:none">
    <br>
        <p>{{ WordsList_Shooter }}</p>
</div>


    <p>Vous attribuez <span id="demo_shooter"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_shooter"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0 <input type="range" id="myRange_shooter" name="myRange" min="0" max = "600" step="50" value="0"  class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>
<br>
    <b>Liste 3 :</b>
    <p>{{ WordsList_Horror_FR  }}</p>

    <script> function myFunction3() {
  var x_horror = document.getElementById("translation_horror");
  if (x_horror.style.display === "none") {
    x_horror.style.display = "block";
  } else {
    x_horror.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction3()">Traduction</button>
    <div id="translation_horror" style="display:none">
    <br>
        <p>{{ WordsList_Horror}}</p>
</div>


    <p>Vous attribuez <span id="demo_horror"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_horror"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_horror" name="myRange" min="0" max = "600" value="0"   step="50" class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>
<br>
    <b>Liste 4 :</b>
    <p>{{ WordsList_RTS_FR }}</p>

    <script> function myFunction4() {
  var x_rts = document.getElementById("translation_rts");
  if (x_rts.style.display === "none") {
    x_rts.style.display = "block";
  } else {
    x_rts.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction4()">Traduction</button>
    <div id="translation_rts" style="display:none">
    <br>
        <p>{{ WordsList_RTS }}</p>
</div>

    <p>Vous attribuez <span id="demo_rts"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_rts"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_rts" name="myRange" min="0" max = "600" value="0"  step="50" class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>
<br>
    <b>Liste 5 :</b>
    <p>{{ WordsList_RPG_FR }}</p>

    <script> function myFunction5() {
  var x_rpg = document.getElementById("translation_rpg");
  if (x_rpg.style.display === "none") {
    x_rpg.style.display = "block";
  } else {
    x_rpg.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction5()">Traduction</button>
    <div id="translation_rpg" style="display:none">
    <br>
        <p>{{ WordsList_RPG }}</p>
</div>

    <p>Vous attribuez <span id="demo_rpg"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_rpg"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_rpg" name="myRange" min="0" max = "600" step="50" value="0"  class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>
<br>
    <b>Liste 6 :</b>
    <p>{{ WordsList_Survival_FR }}</p>

    <script> function myFunction6() {
  var x_survival = document.getElementById("translation_survival");
  if (x_survival.style.display === "none") {
    x_survival.style.display = "block";
  } else {
    x_survival.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction6()">Traduction</button>
    <div id="translation_survival" style="display:none">
    <br>
        <p>{{ WordsList_Survival }}</p>
</div>

    <p>Vous attribuez <span id="demo_survival"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_survival"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_survival" name="myRange" min="0" max = "600" step="50" value="0"  class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>
<br>
    <b>Liste 7 :</b>
    <p>{{ WordsList_Multiplayer_FR }}</p>

    <script> function myFunction7() {
  var x_multiplayer = document.getElementById("translation_multiplayer");
  if (x_multiplayer.style.display === "none") {
    x_multiplayer.style.display = "block";
  } else {
    x_multiplayer.style.display = "none";
  }
} </script>

<button type="button" class="btn btn-primary btn-large" onclick="myFunction7()">Traduction</button>
    <div id="translation_multiplayer" style="display:none">
    <br>
        <p>{{ WordsList_Multiplayer}}</p>
</div>

    <p>Vous attribuez <span id="demo_multiplayer"></span> minutes de votre temps à cette liste. Il vous reste <span id="demo_total_multiplayer"></span> minutes à dépenser.</p>
<div class="input-group">
    <p class="input-group-text">0<input type="range" id="myRange_multiplayer" name="myRange" min="0" max = "600" step="50" value="0" class="form-range"></p>
    <p class="input-group-text"> 600</p>
</div>


<noscript> JavaScript is not enabled. To continue, please enable JavaScript.</noscript>

<script type ="text/javascript">
var slider_souls = document.getElementById("myRange_souls");
var output_total = document.getElementById("demo_total");
output_total.innerHTML = 600 // Display the default slider value
var output_souls = document.getElementById("demo_souls");
output_souls.innerHTML = slider_souls.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_souls.oninput = function() {
  output_souls.innerHTML = this.value
    liveSend({'type': 'Time_Souls', 'value': parseInt(slider_souls.value)});
}
// Shooter
var slider_shooter = document.getElementById("myRange_shooter");
var output_shooter = document.getElementById("demo_shooter");
output_shooter.innerHTML = slider_shooter.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_shooter.oninput = function() {
  output_shooter.innerHTML = this.value;
  liveSend({'type': 'Time_Shooter', 'value2': parseInt(slider_shooter.value)});
}
// Horror
var slider_horror = document.getElementById("myRange_horror");
var output_horror = document.getElementById("demo_horror");

output_horror.innerHTML = slider_horror.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_horror.oninput = function() {
  output_horror.innerHTML = this.value;
  liveSend({'type': 'Time_Horror', 'value3': parseInt(slider_horror.value)});
}
// RTS
var slider_rts = document.getElementById("myRange_rts");
var output_rts = document.getElementById("demo_rts");
output_rts.innerHTML = slider_rts.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_rts.oninput = function() {
  output_rts.innerHTML = this.value;
  liveSend({'type': 'Time_RTS', 'value4': parseInt(slider_rts.value)});
}
// RPG
var slider_rpg = document.getElementById("myRange_rpg");
var output_rpg = document.getElementById("demo_rpg");
output_rpg.innerHTML = slider_rpg.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_rpg.oninput = function() {
  output_rpg.innerHTML = this.value;
  liveSend({'type': 'Time_RPG', 'value5': parseInt(slider_rpg.value)});
}
// Survival
var slider_survival = document.getElementById("myRange_survival");
var output_survival = document.getElementById("demo_survival");
output_survival.innerHTML = slider_survival.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_survival.oninput = function() {
  output_survival.innerHTML = this.value;
  liveSend({'type': 'Time_Survival', 'value6': parseInt(slider_survival.value)});
}
// Multiplayer
var slider_multiplayer = document.getElementById("myRange_multiplayer");
var output_multiplayer = document.getElementById("demo_multiplayer");
output_multiplayer.innerHTML = slider_multiplayer.value; // Display the default slider value
// Update the current slider value (each time you drag the slider handle)
slider_multiplayer.oninput = function() {
  output_multiplayer.innerHTML = this.value;
  liveSend({'type': 'Time_Multiplayer', 'value7': parseInt(slider_multiplayer.value)});
}
var value_total = 0


value_total = function() {
  output_total.innerHTML = parseInt(listen);
}
function liveRecv(data) {
    var output_total = document.getElementById("demo_total");
    var output_total_neg = document.getElementById("demo_total_neg");
    var output_total_souls = document.getElementById("demo_total_souls");
    var output_total_shooter = document.getElementById("demo_total_shooter");
    var output_total_horror = document.getElementById("demo_total_horror");
    var output_total_rts = document.getElementById("demo_total_rts");
    var output_total_rpg = document.getElementById("demo_total_rpg");
    var output_total_survival = document.getElementById("demo_total_survival");
    var output_total_multiplayer = document.getElementById("demo_total_multiplayer");
    output_total.innerHTML = data
    output_total_neg.innerHTML = 600 - data
    output_total_souls.innerHTML = 600 - data
    output_total_shooter.innerHTML = 600 - data
    output_total_horror.innerHTML = 600 - data
    output_total_rts.innerHTML = 600 - data
    output_total_rpg.innerHTML = 600 - data
    output_total_survival.innerHTML = 600 - data
    output_total_multiplayer.innerHTML = 600 - data

    var suivant = document.getElementById("suivant");
    var error = document.getElementById("message");
    if (parseInt(data) === 600) {
        error.innerHTML = ""
            suivant.style.display = "block";
        }
    else if (parseInt(data) !== 600) {
        error.innerHTML = "Le bouton Suivant apparaîtra quand vous aurez attribué exactement vos 600 minutes. Vous en avez attribué "+data+" sur 600"
      suivant.style.display = "none";
    }
    // your code goes here
}


</script>



        Veuillez répondre aux questions ci-dessous:
    {% formfield player.Time_Justify %}
    {% formfield player.Autre_Justify %}

<button id="suivant" onclick ="Suivant()" class="btn btn-primary btn-large" style="display:none">Suivant</button>
<p id = "message"></p>



{% endblock %}

